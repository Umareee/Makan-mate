<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meal Kit Details - Makan Mate</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'makan-orange': '#FF5722',
            'makan-orange-hover': '#E64A19',
            'custom-topbar': '#474747',
            'custom-navbar': '#F9F9F7',
            'custom-logo-bg': '#F9F9F71F',
            'custom-text': '#2C2F24',
          },
          fontFamily: {
            'playfair': ['Playfair Display', 'serif'],
            'dm-sans': ['DM Sans', 'sans-serif'],
          }
        }
      }
    }
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    .tab-btn.active { background: #FF5722; color: #fff; }
    .dotted-hr { border-bottom: 2px dotted #f4a18b; padding-bottom: 8px; display: inline-block; }
    /* Ensure lists and bold text are visible inside Expect/Kit content */
    #content-expect ul, #content-kit ul { list-style: disc; padding-left: 1.25rem; margin: 0.5rem 0; }
    #content-expect ol, #content-kit ol { list-style: decimal; padding-left: 1.25rem; margin: 0.5rem 0; }
    #content-expect li, #content-kit li { margin: 0.25rem 0; line-height: 1.6; }
    #content-expect p, #content-kit p { margin: 0.25rem 0; line-height: 1.6; }
    #content-expect strong, #content-kit strong { font-weight: 700; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="bg-white font-dm-sans text-custom-text">
  <!-- Header -->
  <header class="bg-gray-800 text-white">
    <div class="bg-custom-topbar py-2 px-2">
      <div class="container mx-auto px-2 sm:px-4 text-xs sm:text-sm">
        <div class="flex sm:hidden justify-between items-start py-1">
          <div class="flex items-center space-x-1"><i class="fas fa-phone"></i><span>62642233 Ext 10-18</span></div>
          <div class="flex flex-col items-end space-y-1">
            <div class="flex items-center space-x-1"><i class="fas fa-envelope"></i><span>order@makanmate.com</span></div>
            <div class="flex space-x-2">
              <a href="#" class="w-6 h-6 bg-custom-logo-bg rounded-full flex items-center justify-center hover:text-makan-orange transition-colors"><i class="fab fa-twitter text-xs"></i></a>
              <a href="#" class="w-6 h-6 bg-custom-logo-bg rounded-full flex items-center justify-center hover:text-makan-orange transition-colors"><i class="fab fa-facebook text-xs"></i></a>
              <a href="#" class="w-6 h-6 bg-custom-logo-bg rounded-full flex items-center justify-center hover:text-makan-orange transition-colors"><i class="fab fa-instagram text-xs"></i></a>
              <a href="#" class="w-6 h-6 bg-custom-logo-bg rounded-full flex items-center justify-center hover:text-makan-orange transition-colors"><i class="fab fa-github text-xs"></i></a>
            </div>
          </div>
        </div>
        <div class="hidden sm:flex justify-between items-center">
          <div class="flex items-center space-x-6">
            <div class="flex items-center space-x-2"><i class="fas fa-phone"></i><span>62642233 Ext 10-18</span></div>
            <div class="flex items-center space-x-2"><i class="fas fa-envelope"></i><span>order@makanmate.com</span></div>
          </div>
          <div class="flex space-x-3">
            <a href="#" class="w-8 h-8 bg-custom-logo-bg rounded-full flex items-center justify-center hover:text-makan-orange transition-colors"><i class="fab fa-twitter"></i></a>
            <a href="#" class="w-8 h-8 bg-custom-logo-bg rounded-full flex items-center justify-center hover:text-makan-orange transition-colors"><i class="fab fa-facebook"></i></a>
            <a href="#" class="w-8 h-8 bg-custom-logo-bg rounded-full flex items-center justify-center hover:text-makan-orange transition-colors"><i class="fab fa-instagram"></i></a>
            <a href="#" class="w-8 h-8 bg-custom-logo-bg rounded-full flex items-center justify-center hover:text-makan-orange transition-colors"><i class="fab fa-github"></i></a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main navigation -->
  <nav class="bg-custom-navbar text-custom-text py-4 px-2 shadow-md sticky top-0 z-50">
    <div class="container mx-auto px-2 sm:px-4 flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <div class="w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center cursor-pointer" onclick="window.location.href='index.html'">
          <img src="/images/mate-logo.png" alt="Makan Mate Logo" class="w-10 h-10 rounded-full">
        </div>
        <div>
          <h1 class="text-xl sm:text-2xl font-bold text-makan-orange font-playfair cursor-pointer" onclick="window.location.href='index.html'">Makan Mate</h1>
        </div>
      </div>
      <div class="hidden lg:flex items-center space-x-4 xl:space-x-8">
        <a href="index.html" class="text-custom-text hover:text-makan-orange transition-colors font-medium">Home</a>
        <a href="about.html" class="text-custom-text hover:text-makan-orange transition-colors font-medium">About</a>
        <a href="menu.html" class="text-custom-text hover:text-makan-orange transition-colors font-medium">Menu</a>
        <a href="mealkits.html" class="bg-makan-orange text-white px-4 py-2 rounded-full hover:bg-makan-orange-hover transition-colors">Meal Kits</a>
        <a href="contact.html" class="text-custom-text hover:text-makan-orange transition-colors font-medium">Contact</a>
        <a href="order.html" class="border-2 border-makan-orange text-makan-orange px-6 py-2 rounded-full hover:bg-makan-orange hover:text-white transition-colors font-medium">Order Now</a>
      </div>
      <div class="lg:hidden">
        <button class="text-custom-text hover:text-makan-orange"><i class="fas fa-bars text-xl"></i></button>
      </div>
    </div>
  </nav>

  <!-- Detail Layout -->
  <section class="py-10 bg-white">
    <div class="container mx-auto px-2 sm:px-4 md:px-8 lg:px-16">
      <div id="not-found" class="hidden text-center p-8 bg-red-50 border border-red-200 rounded-xl text-red-600">Product Not Found</div>
      <div id="detail" class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
        <!-- Left Aside (copied style from menu-customization.html) -->
        <aside class="lg:col-span-3 p-4 bg-gray-50 border border-gray-200 rounded-lg">
          <div class="text-xs text-makan-orange font-semibold mb-3">
            <span class="dotted-hr">ORDER DETAILS</span>
          </div>

          <!-- Delivery Date and Time -->
          <div class="mb-6">
            <h4 class="font-semibold text-custom-text mb-2">Delivery Date & Time</h4>
            <div class="space-y-2">
              <input type="date" id="delivery-date" class="w-full p-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-makan-orange">
              <input type="time" id="delivery-time" class="w-full p-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-makan-orange">
            </div>
          </div>

          <!-- Previous Selections -->
          <div class="mb-6">
            <h4 class="font-semibold text-custom-text mb-2">Previous Selections</h4>
            <div class="bg-white p-3 rounded border border-gray-200 space-y-3">
              <div class="text-gray-500 text-sm text-center py-4">
                <i class="fas fa-shopping-cart text-xl mb-2"></i><br>
                No items selected yet.
              </div>
            </div>
          </div>

          <!-- Number of Packs -->
          <div class="mb-6">
            <h4 class="font-semibold text-custom-text mb-2">Number of Packs</h4>
            <div class="flex gap-2 items-center">
              <button class="w-8 h-8 bg-makan-orange rounded text-white text-sm font-bold hover:bg-makan-orange-hover transition-colors" onclick="changePacks(-1)">▼</button>
              <input class="flex-1 text-center border border-gray-300 h-8 rounded text-sm focus:outline-none focus:ring-2 focus:ring-makan-orange" type="number" value="10" min="10" id="packs-input">
              <button class="w-8 h-8 bg-makan-orange rounded text-white text-sm font-bold hover:bg-makan-orange-hover transition-colors" onclick="changePacks(1)">▲</button>
            </div>
            <p class="text-xs text-gray-500 mt-1">Minimum: 10 packs</p>
          </div>
        </aside>

        <!-- Right Content -->
        <div class="lg:col-span-9">
          <!-- Product Info Container -->
          <div class="rounded-2xl border border-gray-200 bg-white p-5 sm:p-6 mb-6 shadow-sm">
            <div class="flex flex-col md:flex-row md:items-center gap-4">
              <img id="item-image" src="" alt="Meal image" class="w-48 h-48 object-cover rounded-lg md:mx-0 mx-auto">
              <div class="flex-1 text-center md:text-left">
                <h1 id="item-name" class="text-2xl sm:text-3xl font-playfair font-medium mb-2">&nbsp;</h1>
                <div id="item-price" class="text-makan-orange text-xl font-bold mb-2">&nbsp;</div>
                <p id="item-desc" class="text-gray-600 text-sm">&nbsp;</p>
              </div>
            </div>
          </div>

          	<!-- Tabs Container -->
          	<div class="rounded-2xl border border-gray-200 bg-white p-5 sm:p-6 mb-6 shadow-sm">
            	<div class="flex flex-wrap gap-2 mb-4">
              	<button id="tab-expect" class="tab-btn bg-white text-custom-text px-4 py-2 rounded-full border border-gray-300">What to Expect</button>
              	<button id="tab-kit" class="tab-btn bg-white text-custom-text px-4 py-2 rounded-full border border-gray-300">What's in the Kit</button>
            	</div>
            	<div id="content-expect" class="text-gray-700 leading-relaxed min-h-56 py-2"></div>
            	<div id="content-kit" class="text-gray-700 leading-relaxed hidden min-h-56 py-2"></div>
          	</div>

          	<!-- Next Button -->
          	<div class="mt-4 mb-10">
            	<button id="next-bottom" class="bg-makan-orange text-white px-6 py-3 rounded-lg font-bold hover:bg-makan-orange-hover transition-colors">NEXT »</button>
          	</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-16">
    <div class="container mx-auto px-2 sm:px-4 md:px-8 lg:px-16">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8">
        <div class="lg:col-span-1">
          <div class="flex items-center space-x-3 mb-6">
            <div class="w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center">
              <img src="/images/mate-logo.png" alt="Makan Mate Logo" class="w-10 h-10 rounded-full">
            </div>
            <h3 class="text-xl sm:text-2xl font-bold text-white font-playfair">Makan Mate</h3>
          </div>
          <p class="text-gray-300 leading-relaxed mb-6">In the new era of technology we look into the future with certainty and pride to for our company and.</p>
          <div class="flex space-x-4">
            <a href="#" class="w-10 h-10 bg-makan-orange rounded-full flex items-center justify-center hover:bg-makan-orange-hover transition-colors"><i class="fab fa-twitter text-white"></i></a>
            <a href="#" class="w-10 h-10 bg-makan-orange rounded-full flex items-center justify-center hover:bg-makan-orange-hover transition-colors"><i class="fab fa-facebook text-white"></i></a>
            <a href="#" class="w-10 h-10 bg-makan-orange rounded-full flex items-center justify-center hover:bg-makan-orange-hover transition-colors"><i class="fab fa-instagram text-white"></i></a>
            <a href="#" class="w-10 h-10 bg-makan-orange rounded-full flex items-center justify-center hover:bg-makan-orange-hover transition-colors"><i class="fab fa-github text-white"></i></a>
          </div>
        </div>
        <div class="mx-0 sm:mx-4">
          <h4 class="text-lg font-bold text-white mb-6">Pages</h4>
          <ul class="space-y-3">
            <li><a href="index.html" class="text-gray-300 hover:text-makan-orange transition-colors">Home</a></li>
            <li><a href="about.html" class="text-gray-300 hover:text-makan-orange transition-colors">About</a></li>
            <li><a href="menu.html" class="text-gray-300 hover:text-makan-orange transition-colors">Menu</a></li>
            <li><a href="contact.html" class="text-gray-300 hover:text-makan-orange transition-colors">Contact</a></li>
            <li><a href="delivery.html" class="text-gray-300 hover:text-makan-orange transition-colors">Delivery</a></li>
          </ul>
        </div>
        <div class="mx-0 sm:mx-4">
          <h4 class="text-lg font-bold text-white mb-6">Utility Pages</h4>
          <ul class="space-y-3">
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">Start Here</a></li>
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">Styleguide</a></li>
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">Password Protected</a></li>
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">404 Not Found</a></li>
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">Licenses</a></li>
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">Changelog</a></li>
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">View More</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-lg font-bold text-white mb-6">Follow Us On Instagram</h4>
          <div class="grid grid-cols-2 gap-3">
            <div class="aspect-square rounded-lg overflow-hidden"><img src="/images/pexels-steve-3789885 1.png" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300" alt="Instagram"></div>
            <div class="aspect-square rounded-lg overflow-hidden"><img src="/images/eiliv-aceron-d5PbKQJ0Lu8-unsplash 1.png" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300" alt="Instagram"></div>
            <div class="aspect-square rounded-lg overflow-hidden"><img src="/images/pexels-ella-olsson-1640772 1.png" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300" alt="Instagram"></div>
            <div class="aspect-square rounded-lg overflow-hidden"><img src="/images/pexels-ash-376464 1.png" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300" alt="Instagram"></div>
          </div>
        </div>
      </div>
      <div class="border-t border-gray-700 mt-12 pt-8 text-center">
        <p class="text-gray-400">Copyright © 2025 Makan Mate. All Rights Reserved</p>
      </div>
    </div>
  </footer>

  <div class="lg:hidden fixed inset-0 bg-black bg-opacity-50 z-50 hidden" id="mobile-menu">
    <div class="bg-white w-64 h-full p-6">
      <div class="flex justify-between items-center mb-8"><h2 class="text-xl font-bold text-makan-orange">Menu</h2><button class="text-gray-600" id="close-menu"><i class="fas fa-times text-xl"></i></button></div>
      <nav class="space-y-4">
        <a href="index.html" class="block text-custom-text hover:text-makan-orange transition-colors py-2 border-b">Home</a>
        <a href="about.html" class="block text-custom-text hover:text-makan-orange transition-colors py-2 border-b">About</a>
        <a href="menu.html" class="block text-custom-text hover:text-makan-orange transition-colors py-2 border-b">Menu</a>
        <a href="mealkits.html" class="block text-custom-text hover:text-makan-orange transition-colors py-2 border-b">Meal Kits</a>
        <a href="contact.html" class="block text-custom-text hover:text-makan-orange transition-colors py-2 border-b">Contact</a>
        <a href="order.html" class="block bg-makan-orange text-white px-4 py-2 rounded-full text-center mt-6">Order Now</a>
      </nav>
    </div>
  </div>

  <script>
    // Mobile menu toggle
    const mobileMenuBtn = document.querySelector('.lg\\:hidden button');
    const mobileMenu = document.getElementById('mobile-menu');
    const closeMenuBtn = document.getElementById('close-menu');
    if (mobileMenuBtn && mobileMenu) mobileMenuBtn.addEventListener('click', () => mobileMenu.classList.remove('hidden'));
    if (closeMenuBtn && mobileMenu) closeMenuBtn.addEventListener('click', () => mobileMenu.classList.add('hidden'));
    if (mobileMenu) mobileMenu.addEventListener('click', (e) => { if (e.target === mobileMenu) mobileMenu.classList.add('hidden'); });

    // Utility: get query param
    function getQueryParam(name) {
      const params = new URLSearchParams(window.location.search);
      return params.get(name);
    }

    // Format plain text (with '-'/'*'/'•' bullets and **bold**) into HTML while preserving order
    function formatContent(raw) {
      if (!raw) return '';
      let text = String(raw);
      // If content already contains semantic list tags, render as-is
      if (/<\s*(ul|ol|li)\b/i.test(text)) return text;
      // Normalize HTML line breaks to newlines for parsing
      text = text.replace(/<br\s*\/?\s*>/gi, '\n');
      // If inline bullets like "• item1 • item2" exist, split them into separate lines first
      text = text.replace(/•\s*/g, '\n- ');

      const lines = text.split(/\r?\n/).map(l => l.trim()).filter(Boolean);
      const bulletPattern = /^[-*]\s+/;
      let htmlParts = [];
      let insideList = false;

      const closeList = () => { if (insideList) { htmlParts.push('</ul>'); insideList = false; } };

      for (let rawLine of lines) {
        let line = rawLine;
        // Convert **bold** to <strong>
        line = line.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');
        // Only bold 'Protein:' label at the start of a line (case-insensitive)
        line = line.replace(/^\s*protein\s*:/i, match => `<strong>${match.replace(/\s+/, ' ').trim()}</strong>`);

        if (bulletPattern.test(line)) {
          const content = line.replace(bulletPattern, '');
          if (!insideList) { htmlParts.push('<ul>'); insideList = true; }
          htmlParts.push(`<li>${content}</li>`);
        } else {
          closeList();
          htmlParts.push(`<p>${line}</p>`);
        }
      }
      closeList();
      return htmlParts.join('');
    }

    // Tabs behavior
    function setupTabs() {
      const btnExpect = document.getElementById('tab-expect');
      const btnKit = document.getElementById('tab-kit');
      const contentExpect = document.getElementById('content-expect');
      const contentKit = document.getElementById('content-kit');
      const activate = (which) => {
        if (which === 'expect') {
          btnExpect.classList.add('active'); btnKit.classList.remove('active');
          contentExpect.classList.remove('hidden'); contentKit.classList.add('hidden');
        } else {
          btnKit.classList.add('active'); btnExpect.classList.remove('active');
          contentKit.classList.remove('hidden'); contentExpect.classList.add('hidden');
        }
      };
      btnExpect.addEventListener('click', () => activate('expect'));
      btnKit.addEventListener('click', () => activate('kit'));
      activate('expect');
    }


    // Packs state and controls (left sidebar)
    let packs = 10;
    function changePacks(change) {
      const packsInput = document.getElementById('packs-input');
      const newPacks = Math.max(10, Number(packsInput.value || 10) + change);
      packs = newPacks;
      packsInput.value = newPacks;
    }

    // Helper: parse a price string like "$12.90 / Set" to number 12.90
    function parsePriceToNumber(val) {
      if (typeof val === 'number') return val;
      if (!val) return 0;
      const match = String(val).replace(/,/g, '').match(/([0-9]+(?:\.[0-9]+)?)/);
      return match ? Number(match[1]) : 0;
    }

    // Auto-populate sidebar: min date/time and previous selection
    document.addEventListener('DOMContentLoaded', () => {
      // Date min today
      const today = new Date().toISOString().split('T')[0];
      const dateEl = document.getElementById('delivery-date');
      if (dateEl) dateEl.min = today;
      // Default time +1h
      const now = new Date(); now.setHours(now.getHours() + 1);
      const timeEl = document.getElementById('delivery-time');
      if (timeEl) timeEl.value = now.toTimeString().slice(0,5);

      // Previous selection from localStorage
      try {
        const selected = JSON.parse(localStorage.getItem('selectedMenuItem') || 'null');
        if (selected) {
          const container = document.querySelector('aside .bg-white.p-3.rounded.border.border-gray-200.space-y-3');
          if (container) {
            container.innerHTML = `
            <div class="flex items-center gap-3">
              <img src="${selected.image}" alt="${selected.name}" class="w-12 h-12 rounded object-cover">
              <div class="flex-1">
                <div class="text-sm font-semibold text-gray-800">${selected.name}</div>
                <div class="text-xs text-gray-500">Qty: 1 Set</div>
              </div>
              <div class="text-sm font-semibold">$${Number(selected.price || 0).toFixed(2)}</div>
            </div>`;
          }
        }
      } catch {}
    });

    // Track currently loaded item for cart creation
    let currentItem = null;

    // NEXT button behavior: validate date/time, persist cart and navigate to delivery.html
    function setupNext() {
      const nextBtn = document.getElementById('next-bottom');
      if (!nextBtn) return;
      nextBtn.addEventListener('click', () => {
        const deliveryDate = document.getElementById('delivery-date')?.value;
        const deliveryTime = document.getElementById('delivery-time')?.value;
        if (!deliveryDate || !deliveryTime) {
          if (window.Swal) { Swal.fire({ icon: 'error', title: 'Missing info', text: 'Please select delivery date and time.' }); }
          return;
        }
        // Save delivery preferences
        localStorage.setItem('deliveryInfo', JSON.stringify({ date: deliveryDate, time: deliveryTime, packs }));

        // Save cart with the selected item and quantity for delivery.html to consume
        try {
          if (currentItem) {
            const unitPrice = parsePriceToNumber(currentItem.price);
            const cart = [
              {
                title: currentItem.name,
                image: currentItem.image,
                price: unitPrice,
                qty: packs,
                isPreselected: true
              }
            ];
            localStorage.setItem('cart', JSON.stringify(cart));
          }
        } catch (e) {
          console.warn('Could not save cart:', e);
        }

        // Navigate to delivery page
        window.location.href = 'delivery.html';
      });
    }

    async function loadItem() {
      const slug = getQueryParam('item');
      const notFound = document.getElementById('not-found');
      const detail = document.getElementById('detail');
      if (!slug) {
        notFound.classList.remove('hidden');
        detail.classList.add('hidden');
        return;
      }
      try {
        const res = await fetch('mealkits.json', { cache: 'no-store' });
        const data = await res.json();
        const item = data[slug];
        if (!item) {
          notFound.classList.remove('hidden');
          detail.classList.add('hidden');
          return;
        }
        document.title = `${item.name} - Meal Kit - Makan Mate`;
        document.getElementById('item-image').src = item.image;
        document.getElementById('item-image').alt = item.name;
        document.getElementById('item-name').textContent = item.name;
        document.getElementById('item-price').textContent = item.price;
        document.getElementById('content-expect').innerHTML = formatContent(item.expect || '');
        document.getElementById('content-kit').innerHTML = formatContent(item.kit || '');
        // Keep a reference for NEXT button to create cart later
        currentItem = item;
        // Description under price prefers selected card desc, then item.description, then expect
        const desc = document.getElementById('item-desc');
        let selected = null;
        try { selected = JSON.parse(localStorage.getItem('selectedMenuItem') || 'null'); } catch {}
        if (desc) desc.textContent = (selected && selected.description) || item.description || item.expect || '';
        // Sidebar previous selection should reflect current item
        const prevSelContainer = document.querySelector('aside .bg-white.p-3.rounded.border.border-gray-200.space-y-3');
        if (prevSelContainer) {
          prevSelContainer.innerHTML = `
          <div class="flex items-center gap-3">
            <img src="${item.image}" alt="${item.name}" class="w-12 h-12 rounded object-cover">
            <div class="flex-1">
              <div class="text-sm font-semibold text-gray-800">${item.name}</div>
              <div class="text-xs text-gray-500">Qty: 1 Set</div>
            </div>
            <div class="text-sm font-semibold">${item.price}</div>
          </div>`;
        }
      } catch (e) {
        console.error('Failed to load item', e);
        notFound.classList.remove('hidden');
        detail.classList.add('hidden');
      }
    }

    setupTabs();
    setupNext();
    loadItem();
  </script>
</body>
</html>

