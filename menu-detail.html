<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meal Kit Details - Makan Mate</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'makan-orange': '#FF5722',
            'makan-orange-hover': '#E64A19',
            'custom-topbar': '#474747',
            'custom-navbar': '#F9F9F7',
            'custom-logo-bg': '#F9F9F71F',
            'custom-text': '#2C2F24',
          },
          fontFamily: {
            'playfair': ['Playfair Display', 'serif'],
            'dm-sans': ['DM Sans', 'sans-serif'],
          }
        }
      }
    }
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    .tab-btn.active { background: #FF5722; color: #fff; }
    .dotted-hr { border-bottom: 2px dotted #f4a18b; padding-bottom: 8px; display: inline-block; }
    /* Ensure lists and bold text are visible inside Expect/Kit content */
    #content-expect ul, #content-kit ul, #content-process ul { list-style: disc; padding-left: 1.25rem; margin: 0.5rem 0; }
    #content-expect ol, #content-kit ol, #content-process ol { list-style: decimal; padding-left: 1.25rem; margin: 0.5rem 0; }
    #content-expect li, #content-kit li, #content-process li { margin: 0.25rem 0; line-height: 1.6; }
    #content-expect p, #content-kit p, #content-process p { margin: 0.25rem 0; line-height: 1.6; }
    #content-expect strong, #content-kit strong, #content-process strong { font-weight: 700; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="bg-white font-dm-sans text-custom-text">

  <!-- Main navigation -->
  <nav class="bg-custom-navbar text-custom-text py-4 px-2 shadow-md sticky top-0 z-50">
    <div class="container mx-auto px-2 sm:px-4 flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <div class="w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center cursor-pointer" onclick="window.location.href='index.html'">
          <img src="/images/mate-logo.png" alt="Makan Mate Logo" class="w-10 h-10 rounded-full">
        </div>
        <div>
          <h1 class="text-xl sm:text-2xl font-bold text-makan-orange font-playfair cursor-pointer" onclick="window.location.href='index.html'">Makan Mate</h1>
        </div>
      </div>
      <div class="hidden lg:flex items-center space-x-4 xl:space-x-8">
        <a href="index.html" class="text-custom-text hover:text-makan-orange transition-colors font-medium">Home</a>
        <a href="about.html" class="text-custom-text hover:text-makan-orange transition-colors font-medium">About</a>
                <div class="group">
        <a href="menu.html" id="menu-trigger" class="text-custom-text hover:text-makan-orange transition-colors font-medium">Catering</a>

        <!-- Full-width mega panel -->
<div class="absolute inset-x-0 top-full bg-white hidden group-hover:block border-t border-gray-200 shadow-sm z-50">
  <div class="px-4 lg:px-128">
<div class="max-w-6xl mx-auto py-6">
    <!-- Filter Buttons -->
    <div class="flex justify-center space-x-4 mb-6">
      <button class="filter-btn bg-makan-orange text-white px-4 py-2 rounded-full font-medium transition" data-filter="all">
        All
      </button>
      <button class="filter-btn bg-gray-100 text-gray-700 px-4 py-2 rounded-full font-medium hover:bg-makan-orange hover:text-white transition" data-filter="bento">
        Bento
      </button>
      <button class="filter-btn bg-gray-100 text-gray-700 px-4 py-2 rounded-full font-medium hover:bg-makan-orange hover:text-white transition" data-filter="buffet">
        Buffet
      </button>
      <button class="filter-btn bg-gray-100 text-gray-700 px-4 py-2 rounded-full font-medium hover:bg-makan-orange hover:text-white transition" data-filter="mini-buffet">
        Mini Buffet
      </button>
    </div>

    <!-- Menu Grid -->
     <div class="flex justify-center">
    <div id="menu-grid" 
     class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-8 max-w-5xl w-full">

      <!-- 1. Bento Meal -->
      <a href="#" data-category="bento" data-item-id = "premium-bento"
         class="menu-item group/item flex items-center space-x-3 rounded-xl hover:bg-gray-100 p-2 transition transform hover:scale-[1.02] hover:shadow-md duration-300 ease-in-out">
        <img src="/images/home/menu/imgi_11_bento.jpg" alt="Bento"
             class="w-16 h-16 object-cover rounded-lg transition-transform duration-300 group-hover/item:scale-110 group-hover/item:rotate-1">
        <span class="text-sm font-medium text-custom-text transition-colors duration-300 group-hover/item:text-makan-orange">Bento Meal</span>
      </a>

      <!-- 2. Classic Delight (Buffet) -->
      <a href="#" data-category="buffet" data-item-id="delight-menu"
         class="menu-item group/item flex items-center space-x-3 rounded-xl hover:bg-gray-100 p-2 transition transform hover:scale-[1.02] hover:shadow-md duration-300 ease-in-out">
        <img src="/images/home/menu/imgi_12_classic-delight-2-366.jpg" alt="Classic Delight"
             class="w-16 h-16 object-cover rounded-lg transition-transform duration-300 group-hover/item:scale-110 group-hover/item:rotate-1">
        <span class="text-sm font-medium text-custom-text transition-colors duration-300 group-hover/item:text-makan-orange">Classic Delight</span>
      </a>

      <!-- 3. Steamboat (Buffet) -->
      <a href="#" data-category="buffet"
         class="menu-item group/item flex items-center space-x-3 rounded-xl hover:bg-gray-100 p-2 transition transform hover:scale-[1.02] hover:shadow-md duration-300 ease-in-out">
        <img src="/images/home/menu/imgi_13_pexels-wenbin-5684696-2.jpg" alt="Steamboat"
             class="w-16 h-16 object-cover rounded-lg transition-transform duration-300 group-hover/item:scale-110 group-hover/item:rotate-1">
        <span class="text-sm font-medium text-custom-text transition-colors duration-300 group-hover/item:text-makan-orange">Steamboat</span>
      </a>

      <!-- 4. Healthier Choice Buffet -->
      <a href="#" data-category="buffet" data-item-id="combo-deal"
         class="menu-item group/item flex items-center space-x-3 rounded-xl hover:bg-gray-100 p-2 transition transform hover:scale-[1.02] hover:shadow-md duration-300 ease-in-out">
        <img src="/images/home/menu/imgi_14_healthier-choice-buffet.jpg" alt="Healthy Choice Buffet"
             class="w-16 h-16 object-cover rounded-lg transition-transform duration-300 group-hover/item:scale-110 group-hover/item:rotate-1">
        <span class="text-sm font-medium text-custom-text transition-colors duration-300 group-hover/item:text-makan-orange">Healthier Choice Buffet</span>
      </a>

      <!-- 5. High Tea (Mini Buffet) -->
      <a href="#" data-category="mini-buffet" data-item-id="high-tea"
         class="menu-item group/item flex items-center space-x-3 rounded-xl hover:bg-gray-100 p-2 transition transform hover:scale-[1.02] hover:shadow-md duration-300 ease-in-out">
        <img src="/images/home/menu/imgi_15_360_F_183394887_vwLjNWmwbkF6uIIcdiLncnyCn7297nBt.jpg" alt="High Tea"
             class="w-16 h-16 object-cover rounded-lg transition-transform duration-300 group-hover/item:scale-110 group-hover/item:rotate-1">
        <span class="text-sm font-medium text-custom-text transition-colors duration-300 group-hover/item:text-makan-orange">High Tea</span>
      </a>

      <!-- 6. Vegetarian (Buffet) -->
      <a href="#" data-category="buffet"
         class="menu-item group/item flex items-center space-x-3 rounded-xl hover:bg-gray-100 p-2 transition transform hover:scale-[1.02] hover:shadow-md duration-300 ease-in-out">
        <img src="/images/home/menu/imgi_16_photo-1598449526978-cd11daa040c9-scaled.jpg" alt="Vegetarian"
             class="w-16 h-16 object-cover rounded-lg transition-transform duration-300 group-hover/item:scale-110 group-hover/item:rotate-1">
        <span class="text-sm font-medium text-custom-text transition-colors duration-300 group-hover/item:text-makan-orange">Vegetarian</span>
      </a>

      <!-- 7. Tantalising Meat (Buffet) -->
      <a href="#" data-category="buffet"
         class="menu-item group/item flex items-center space-x-3 rounded-xl hover:bg-gray-100 p-2 transition transform hover:scale-[1.02] hover:shadow-md duration-300 ease-in-out">
        <img src="/images/home/maken-mart/imgi_17_meat.jpg" alt="Meat"
             class="w-16 h-16 object-cover rounded-lg transition-transform duration-300 group-hover/item:scale-110 group-hover/item:rotate-1">
        <span class="text-sm font-medium text-custom-text transition-colors duration-300 group-hover/item:text-makan-orange">Tantalising Meat</span>
      </a>

      <!-- 8. Ocean’s Delight (Buffet) -->
      <a href="#" data-category="buffet"
         class="menu-item group/item flex items-center space-x-3 rounded-xl hover:bg-gray-100 p-2 transition transform hover:scale-[1.02] hover:shadow-md duration-300 ease-in-out">
        <img src="/images/home/maken-mart/imgi_18_salmon.jpg" alt="Salmon"
             class="w-16 h-16 object-cover rounded-lg transition-transform duration-300 group-hover/item:scale-110 group-hover/item:rotate-1">
        <span class="text-sm font-medium text-custom-text transition-colors duration-300 group-hover/item:text-makan-orange">Ocean’s Delight</span>
      </a>

      <!-- 9. Delicious Dim Sum (Mini Buffet) -->
      <a href="#" data-category="mini-buffet"
         class="menu-item group/item flex items-center space-x-3 rounded-xl hover:bg-gray-100 p-2 transition transform hover:scale-[1.02] hover:shadow-md duration-300 ease-in-out">
        <img src="/images/home/maken-mart/imgi_19_dimsum.jpg" alt="Dim Sum"
             class="w-16 h-16 object-cover rounded-lg transition-transform duration-300 group-hover/item:scale-110 group-hover/item:rotate-1">
        <span class="text-sm font-medium text-custom-text transition-colors duration-300 group-hover/item:text-makan-orange">Delicious Dim Sum</span>
      </a>
    </div>
    </div>
    </div>
    <!-- CTA Button -->
    <div class="text-center py-6">
      <a href="menu.html" class="inline-block bg-makan-orange text-white px-6 py-3 rounded-full font-medium hover:bg-makan-orange-hover transition">
        See All Menu
      </a>
    </div>
  </div>
</div>


 

      </div>
        <a href="mealkits.html" class="bg-makan-orange text-white px-4 py-2 rounded-full hover:bg-makan-orange-hover transition-colors">Meal Kits</a>
        <a href="contact.html" class="text-custom-text hover:text-makan-orange transition-colors font-medium">Contact</a>
        <a href="order.html" class="border-2 border-makan-orange text-makan-orange px-6 py-2 rounded-full hover:bg-makan-orange hover:text-white transition-colors font-medium">Order Now</a>
      </div>
      <div class="lg:hidden">
        <button class="text-custom-text hover:text-makan-orange"><i class="fas fa-bars text-xl"></i></button>
      </div>
    </div>
  </nav>

  <!-- Detail Layout -->
  <section class="py-10 bg-white">
    <div class="container mx-auto px-2 sm:px-4 md:px-8 lg:px-16">
      <div id="not-found" class="hidden text-center p-8 bg-red-50 border border-red-200 rounded-xl text-red-600">Product Not Found</div>
      <div id="detail" class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
        <!-- Left Aside (copied style from menu-customization.html) -->
        <aside class="lg:col-span-3 p-4 bg-gray-50 border border-gray-200 rounded-lg">
          <div class="text-xs text-makan-orange font-semibold mb-3">
            <span class="dotted-hr">ORDER DETAILS</span>
          </div>

          <!-- Delivery Date and Time -->
          <div class="mb-6">
            <h4 class="font-semibold text-custom-text mb-2">Delivery Date & Time</h4>
            <div class="space-y-2">
              <input type="date" id="delivery-date" class="w-full p-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-makan-orange">
              <input type="time" id="delivery-time" class="w-full p-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-makan-orange">
            </div>
          </div>

          
          <!-- <div class="mb-6">
            <h4 class="font-semibold text-custom-text mb-2">Previous Selections</h4>
            <div class="bg-white p-3 rounded border border-gray-200 space-y-3">
              <div class="text-gray-500 text-sm text-center py-4">
                <i class="fas fa-shopping-cart text-xl mb-2"></i><br>
                No items selected yet.
              </div>
            </div>
          </div> -->

          <!-- Number of Packs -->
          <div class="mb-6">
            <h4 class="font-semibold text-custom-text mb-2">Number of Packs</h4>
            <div class="flex gap-2 items-center">
              <button class="w-8 h-8 bg-makan-orange rounded text-white text-sm font-bold hover:bg-makan-orange-hover transition-colors" onclick="changePacks(-1)">▼</button>
              <input class="flex-1 text-center border border-gray-300 h-8 rounded text-sm focus:outline-none focus:ring-2 focus:ring-makan-orange" type="number" value="10" min="10" id="packs-input">
              <button class="w-8 h-8 bg-makan-orange rounded text-white text-sm font-bold hover:bg-makan-orange-hover transition-colors" onclick="changePacks(1)">▲</button>
            </div>
            <p class="text-xs text-gray-500 mt-1">Minimum: 10 packs</p>
          </div>
        </aside>

        <!-- Right Content -->
        <div class="lg:col-span-9">
          <!-- Product Info Container -->
          <div class="rounded-2xl border border-gray-200 bg-white p-5 sm:p-6 mb-6 shadow-sm">
            <div class="flex flex-col md:flex-row md:items-center gap-4">
              <img id="item-image" src="" alt="Meal image" class="w-48 h-48 object-cover rounded-lg md:mx-0 mx-auto">
              <div class="flex-1 text-center md:text-left">
                <h1 id="item-name" class="text-2xl sm:text-3xl font-playfair font-medium mb-2">&nbsp;</h1>
                <div id="item-price" class="text-makan-orange text-xl font-bold mb-2">&nbsp;</div>
                <p id="item-desc" class="text-gray-600 text-sm">&nbsp;</p>
              </div>
            </div>
          </div>

          	<!-- Tabs Container -->
          	<div class="rounded-2xl border border-gray-200 bg-white p-5 sm:p-6 mb-6 shadow-sm">
            	<div class="flex flex-wrap gap-2 mb-4">
              	<button id="tab-expect" class="tab-btn bg-white text-custom-text px-4 py-2 rounded-full border border-gray-300">What to Expect</button>
              	<button id="tab-kit" class="tab-btn bg-white text-custom-text px-4 py-2 rounded-full border border-gray-300">What's in the Kit</button>
            	</div>
            	<div id="content-expect" class="text-gray-700 leading-relaxed min-h-56 py-2"></div>
            	<div id="content-kit" class="text-gray-700 leading-relaxed hidden min-h-56 py-2"></div>
          	</div>

												<!-- How to Process Container -->
												<div class="rounded-2xl border border-gray-200 bg-white p-5 sm:p-6 mb-6 shadow-sm">
													<h2 class="text-xl sm:text-2xl font-playfair font-semibold mb-3">How to Process</h2>
													<div id="content-process" class="text-gray-700 leading-relaxed py-2">
                              <p>If you’ve ever strolled through the streets of Hong Kong or eaten at a Cantonese restaurant, chances are you’ve seen glossy brown chickens hanging beautifully in the display window. That, my friend, is Soy Sauce Chicken (豉油鸡) — one of the most iconic dishes in Chinese cuisine.</p>
                              <p>Unlike crispy roast duck or fiery Sichuan stir-fries, soy sauce chicken is all about balance — the savory depth of soy sauce, the sweetness of rock sugar, the fragrance of star anise and ginger. The chicken is gently poached in this rich broth until tender, juicy, and infused with flavor.</p>
                              <div class="my-4">
                                <img src="/images/soysauce.jpeg" alt="How to process" class="mx-auto w-full object-cover rounded-lg shadow-sm">
                              </div>
                              <p>And the best part? It’s much easier to make at home than it looks.</p>
														<p><strong>Quick steps:</strong></p>
														<ol class="list-decimal pl-5 space-y-1">
															<li>In a pot, combine water, soy sauces, sugar, wine, ginger, garlic, star anise, cinnamon, and spring onions. Bring to a boil, then simmer.</li>
															<li>Lower the chicken into the broth, breast side down. Simmer 20–25 min, flip, simmer 15–20 min.</li>
															<li>Turn off heat, let chicken rest in broth for 15 min.</li>
															<li>Brush with sesame oil, chop, drizzle broth, and serve with rice/veggies.</li>
														</ol>
														<p class="mt-2 text-sm text-gray-600">Note: Timings may vary slightly based on your stove and cookware.</p>
													</div>
												</div>

												<!-- Next Button -->
												<div class="mt-4 mb-10">
													<button id="next-bottom" class="bg-makan-orange text-white px-6 py-3 rounded-lg font-bold hover:bg-makan-orange-hover transition-colors">NEXT »</button>
												</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-16">
    <div class="container mx-auto px-2 sm:px-4 md:px-8 lg:px-16">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8">
        <div class="lg:col-span-1">
          <div class="flex items-center space-x-3 mb-6">
            <div class="w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center">
              <img src="/images/mate-logo.png" alt="Makan Mate Logo" class="w-10 h-10 rounded-full">
            </div>
            <h3 class="text-xl sm:text-2xl font-bold text-white font-playfair">Makan Mate</h3>
          </div>
          <p class="text-gray-300 leading-relaxed mb-6">In the new era of technology we look into the future with certainty and pride to for our company and.</p>
          <div class="flex space-x-4">
            <a href="#" class="w-10 h-10 bg-makan-orange rounded-full flex items-center justify-center hover:bg-makan-orange-hover transition-colors"><i class="fab fa-twitter text-white"></i></a>
            <a href="#" class="w-10 h-10 bg-makan-orange rounded-full flex items-center justify-center hover:bg-makan-orange-hover transition-colors"><i class="fab fa-facebook text-white"></i></a>
            <a href="#" class="w-10 h-10 bg-makan-orange rounded-full flex items-center justify-center hover:bg-makan-orange-hover transition-colors"><i class="fab fa-instagram text-white"></i></a>
            <a href="#" class="w-10 h-10 bg-makan-orange rounded-full flex items-center justify-center hover:bg-makan-orange-hover transition-colors"><i class="fab fa-github text-white"></i></a>
          </div>
        </div>
        <div class="mx-0 sm:mx-4">
          <h4 class="text-lg font-bold text-white mb-6">Pages</h4>
          <ul class="space-y-3">
            <li><a href="index.html" class="text-gray-300 hover:text-makan-orange transition-colors">Home</a></li>
            <li><a href="about.html" class="text-gray-300 hover:text-makan-orange transition-colors">About</a></li>
            <li><a href="menu.html" class="text-gray-300 hover:text-makan-orange transition-colors">Catering</a></li>
            <li><a href="contact.html" class="text-gray-300 hover:text-makan-orange transition-colors">Contact</a></li>
            <li><a href="delivery.html" class="text-gray-300 hover:text-makan-orange transition-colors">Delivery</a></li>
          </ul>
        </div>
        <div class="mx-0 sm:mx-4">
          <h4 class="text-lg font-bold text-white mb-6">Utility Pages</h4>
          <ul class="space-y-3">
               <li><a href="menu.html" class="text-gray-300 hover:text-makan-orange transition-colors">Start Here</a></li>
                        <li><a href="menu.html" class="text-gray-300 hover:text-makan-orange transition-colors">Styleguide</a></li>
                        <li><a href="menu.html" class="text-gray-300 hover:text-makan-orange transition-colors">Password Protected</a></li>
                        <li><a href="menu.html" class="text-gray-300 hover:text-makan-orange transition-colors">404 Not Found</a></li>
                        <li><a href="menu.html" class="text-gray-300 hover:text-makan-orange transition-colors">Licenses</a></li>
                        <li><a href="menu.html" class="text-gray-300 hover:text-makan-orange transition-colors">Changelog</a></li>
                        <li><a href="menu.html" class="text-gray-300 hover:text-makan-orange transition-colors">View More</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-lg font-bold text-white mb-6">Follow Us On Instagram</h4>
          <div class="grid grid-cols-2 gap-3">
            <div class="aspect-square rounded-lg overflow-hidden"><img src="/images/pexels-steve-3789885 1.png" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300" alt="Instagram"></div>
            <div class="aspect-square rounded-lg overflow-hidden"><img src="/images/eiliv-aceron-d5PbKQJ0Lu8-unsplash 1.png" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300" alt="Instagram"></div>
            <div class="aspect-square rounded-lg overflow-hidden"><img src="/images/pexels-ella-olsson-1640772 1.png" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300" alt="Instagram"></div>
            <div class="aspect-square rounded-lg overflow-hidden"><img src="/images/pexels-ash-376464 1.png" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300" alt="Instagram"></div>
          </div>
        </div>
      </div>
      <div class="border-t border-gray-700 mt-12 pt-8 text-center">
        <p class="text-gray-400">Copyright © 2025 Makan Mate. All Rights Reserved</p>
      </div>
    </div>
  </footer>

  <div class="lg:hidden fixed inset-0 bg-black bg-opacity-50 z-50 hidden" id="mobile-menu">
    <div class="bg-white w-64 h-full p-6">
      <div class="flex justify-between items-center mb-8"><h2 class="text-xl font-bold text-makan-orange">Menu</h2><button class="text-gray-600" id="close-menu"><i class="fas fa-times text-xl"></i></button></div>
      <nav class="space-y-4">
        <a href="index.html" class="block text-custom-text hover:text-makan-orange transition-colors py-2 border-b">Home</a>
        <a href="about.html" class="block text-custom-text hover:text-makan-orange transition-colors py-2 border-b">About</a>
        <a href="menu.html" class="block text-custom-text hover:text-makan-orange transition-colors py-2 border-b">Catering</a>
        <a href="mealkits.html" class="block text-custom-text hover:text-makan-orange transition-colors py-2 border-b">Meal Kits</a>
        <a href="contact.html" class="block text-custom-text hover:text-makan-orange transition-colors py-2 border-b">Contact</a>
        <a href="order.html" class="block bg-makan-orange text-white px-4 py-2 rounded-full text-center mt-6">Order Now</a>
      </nav>
    </div>
  </div>

      <!-- Floating WhatsApp Icon -->
  <div class="fixed bottom-6 right-6 z-50">
    <a href="https://wa.me/6593620073" target="_blank" rel="noopener noreferrer"
       class="bg-green-500 hover:bg-green-600 text-white w-16 h-16 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 flex items-center justify-center group">
      <i class="fab fa-whatsapp text-2xl"></i>
      <span class="absolute right-full mr-3 bg-gray-800 text-white px-3 py-2 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-300">
        Chat with us on WhatsApp
      </span>
    </a>
  </div>

  <script>
    // Mobile menu toggle
    const mobileMenuBtn = document.querySelector('.lg\\:hidden button');
    const mobileMenu = document.getElementById('mobile-menu');
    const closeMenuBtn = document.getElementById('close-menu');
    if (mobileMenuBtn && mobileMenu) mobileMenuBtn.addEventListener('click', () => mobileMenu.classList.remove('hidden'));
    if (closeMenuBtn && mobileMenu) closeMenuBtn.addEventListener('click', () => mobileMenu.classList.add('hidden'));
    if (mobileMenu) mobileMenu.addEventListener('click', (e) => { if (e.target === mobileMenu) mobileMenu.classList.add('hidden'); });

    // Utility: get query param
    function getQueryParam(name) {
      const params = new URLSearchParams(window.location.search);
      return params.get(name);
    }

    // Format plain text (with '-'/'*'/'•' bullets and **bold**) into HTML while preserving order
    function formatContent(raw) {
      if (!raw) return '';
      let text = String(raw);
      // If content already contains semantic list tags, render as-is
      if (/<\s*(ul|ol|li)\b/i.test(text)) return text;
      // Normalize HTML line breaks to newlines for parsing
      text = text.replace(/<br\s*\/?\s*>/gi, '\n');
      // If inline bullets like "• item1 • item2" exist, split them into separate lines first
      text = text.replace(/•\s*/g, '\n- ');

      const lines = text.split(/\r?\n/).map(l => l.trim()).filter(Boolean);
      const bulletPattern = /^[-*]\s+/;
      let htmlParts = [];
      let insideList = false;

      const closeList = () => { if (insideList) { htmlParts.push('</ul>'); insideList = false; } };

      for (let rawLine of lines) {
        let line = rawLine;
        // Convert **bold** to <strong>
        line = line.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');
        // Only bold 'Protein:' label at the start of a line (case-insensitive)
        line = line.replace(/^\s*protein\s*:/i, match => `<strong>${match.replace(/\s+/, ' ').trim()}</strong>`);

        if (bulletPattern.test(line)) {
          const content = line.replace(bulletPattern, '');
          if (!insideList) { htmlParts.push('<ul>'); insideList = true; }
          htmlParts.push(`<li>${content}</li>`);
        } else {
          closeList();
          htmlParts.push(`<p>${line}</p>`);
        }
      }
      closeList();
      return htmlParts.join('');
    }

    // Tabs behavior
    function setupTabs() {
      const btnExpect = document.getElementById('tab-expect');
      const btnKit = document.getElementById('tab-kit');
      const contentExpect = document.getElementById('content-expect');
      const contentKit = document.getElementById('content-kit');
      const activate = (which) => {
        if (which === 'expect') {
          btnExpect.classList.add('active'); btnKit.classList.remove('active');
          contentExpect.classList.remove('hidden'); contentKit.classList.add('hidden');
        } else {
          btnKit.classList.add('active'); btnExpect.classList.remove('active');
          contentKit.classList.remove('hidden'); contentExpect.classList.add('hidden');
        }
      };
      btnExpect.addEventListener('click', () => activate('expect'));
      btnKit.addEventListener('click', () => activate('kit'));
      activate('expect');
    }


    // Packs state and controls (left sidebar)
    let packs = 10;
    function changePacks(change) {
      const packsInput = document.getElementById('packs-input');
      const newPacks = Math.max(10, Number(packsInput.value || 10) + change);
      packs = newPacks;
      packsInput.value = newPacks;
    }

    // Helper: parse a price string like "$12.90 / Set" to number 12.90
    function parsePriceToNumber(val) {
      if (typeof val === 'number') return val;
      if (!val) return 0;
      const match = String(val).replace(/,/g, '').match(/([0-9]+(?:\.[0-9]+)?)/);
      return match ? Number(match[1]) : 0;
    }

    // Auto-populate sidebar: min date/time and previous selection
    document.addEventListener('DOMContentLoaded', () => {
      // Date min today
      const today = new Date().toISOString().split('T')[0];
      const dateEl = document.getElementById('delivery-date');
      if (dateEl) dateEl.min = today;
      // Default time +1h
      const now = new Date(); now.setHours(now.getHours() + 1);
      const timeEl = document.getElementById('delivery-time');
      if (timeEl) timeEl.value = now.toTimeString().slice(0,5);

      // Previous selection from localStorage
      try {
        const selected = JSON.parse(localStorage.getItem('selectedMenuItem') || 'null');
        if (selected) {
          const container = document.querySelector('aside .bg-white.p-3.rounded.border.border-gray-200.space-y-3');
          if (container) {
            container.innerHTML = `
            <div class="flex items-center gap-3">
              <img src="${selected.image}" alt="${selected.name}" class="w-12 h-12 rounded object-cover">
              <div class="flex-1">
                <div class="text-sm font-semibold text-gray-800">${selected.name}</div>
                <div class="text-xs text-gray-500">Qty: 1 Set</div>
              </div>
              <div class="text-sm font-semibold">$${Number(selected.price || 0).toFixed(2)}</div>
            </div>`;
          }
        }
      } catch {}
    });

    // Track currently loaded item for cart creation
    let currentItem = null;

    // NEXT button behavior: validate date/time, persist cart and navigate to delivery.html
    function setupNext() {
      const nextBtn = document.getElementById('next-bottom');
      if (!nextBtn) return;
      nextBtn.addEventListener('click', () => {
        const deliveryDate = document.getElementById('delivery-date')?.value;
        const deliveryTime = document.getElementById('delivery-time')?.value;
        if (!deliveryDate || !deliveryTime) {
          if (window.Swal) { Swal.fire({ icon: 'error', title: 'Missing info', text: 'Please select delivery date and time.' }); }
          return;
        }
        // Save delivery preferences
        localStorage.setItem('deliveryInfo', JSON.stringify({ date: deliveryDate, time: deliveryTime, packs }));

        // Save cart with the selected item and quantity for delivery.html to consume
        try {
          if (currentItem) {
            const unitPrice = parsePriceToNumber(currentItem.price);
            const cart = [
              {
                title: currentItem.name,
                image: currentItem.image,
                price: unitPrice,
                qty: packs,
                isPreselected: true
              }
            ];
            localStorage.setItem('cart', JSON.stringify(cart));
          }
        } catch (e) {
          console.warn('Could not save cart:', e);
        }

        // Navigate to delivery page
        window.location.href = 'delivery.html';
      });
    }

    async function loadItem() {
      const slug = getQueryParam('item');
      const notFound = document.getElementById('not-found');
      const detail = document.getElementById('detail');
      if (!slug) {
        notFound.classList.remove('hidden');
        detail.classList.add('hidden');
        return;
      }
      try {
        const res = await fetch('mealkits.json', { cache: 'no-store' });
        const data = await res.json();
        const item = data.items && data.items[slug];
        if (!item) {
          notFound.classList.remove('hidden');
          detail.classList.add('hidden');
          return;
        }
        document.title = `${item.name} - Meal Kit - Makan Mate`;
        document.getElementById('item-image').src = item.image;
        document.getElementById('item-image').alt = item.name;
        document.getElementById('item-name').textContent = item.name;
        document.getElementById('item-price').textContent = item.price;
        document.getElementById('content-expect').innerHTML = formatContent(item.expect || '');
        document.getElementById('content-kit').innerHTML = formatContent(item.kit || '');
        // Keep a reference for NEXT button to create cart later
        currentItem = item;
        // Description under price prefers selected card desc, then item.description, then expect
        const desc = document.getElementById('item-desc');
        let selected = null;
        try { selected = JSON.parse(localStorage.getItem('selectedMenuItem') || 'null'); } catch {}
        if (desc) desc.textContent = (selected && selected.description) || item.description || item.expect || '';
        // Sidebar previous selection should reflect current item
        const prevSelContainer = document.querySelector('aside .bg-white.p-3.rounded.border.border-gray-200.space-y-3');
        if (prevSelContainer) {
          prevSelContainer.innerHTML = `
          <div class="flex items-center gap-3">
            <img src="${item.image}" alt="${item.name}" class="w-12 h-12 rounded object-cover">
            <div class="flex-1">
              <div class="text-sm font-semibold text-gray-800">${item.name}</div>
              <div class="text-xs text-gray-500">Qty: 1 Set</div>
            </div>
            <div class="text-sm font-semibold">${item.price}</div>
          </div>`;
        }
      } catch (e) {
        console.error('Failed to load item', e);
        notFound.classList.remove('hidden');
        detail.classList.add('hidden');
      }
    }

    setupTabs();
    setupNext();
    loadItem();

     let menuData = null;
async function loadMenuData() {
    if (menuData) return menuData;          // already cached
    try {
        const res = await fetch('/menu-items.json');
        menuData = await res.json();
        return menuData;
    } catch (err) {
        console.error('Could not load /menu-items.json', err);
    }
}
        /* Handle clicks on the menu cards */
document.addEventListener('click', async (e) => {
    const card = e.target.closest('[data-item-id]');
    if (!card) return;

    const id = card.dataset.itemId;
    const data = await loadMenuData();
    const item = data.items.find(i => i.id === id);

    if (!item) {
        Swal.fire({ icon:'info', title:'Coming soon', text:'This item is not configured yet.' });
        return;
    }

    /* Same localStorage structure used in menu.html */
    localStorage.setItem('selectedMenuItem', JSON.stringify({
        name: item.name,
        id: item.id,
        image: item.image,
        price: item.price,
        description: item.description,
        customizable: item.customizable,
        data_source: item.data_source
    }));

    /* Go straight to quantity-selection, just like menu.html */
    window.location.href = 'quantity-selection.html';
});

 //Filtering script
  const filterBtns = document.querySelectorAll('.filter-btn');
  const menuItems = document.querySelectorAll('.menu-item');

  filterBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      const filter = btn.getAttribute('data-filter');

      menuItems.forEach(item => {
        if (filter === 'all' || item.getAttribute('data-category') === filter) {
          item.style.display = 'flex'; // show
        } else {
          item.style.display = 'none'; // hide
        }
      });

      // Active button style
      filterBtns.forEach(b => b.classList.remove('bg-makan-orange', 'text-white'));
      btn.classList.add('bg-makan-orange', 'text-white');
    });
  });

  // Hover menu with delay
const menuTrigger = document.getElementById('menu-trigger');
const menuPanel = document.querySelector('.group .absolute');

if (menuTrigger && menuPanel) {
    let menuTimeout;
    
    menuTrigger.addEventListener('mouseenter', () => {
        clearTimeout(menuTimeout);
        menuPanel.classList.remove('hidden');
    });
    
    menuTrigger.addEventListener('mouseleave', () => {
        menuTimeout = setTimeout(() => {
            menuPanel.classList.add('hidden');
        }, 1000); // 1 second delay
    });
    
    menuPanel.addEventListener('mouseenter', () => {
        clearTimeout(menuTimeout);
        menuPanel.classList.remove('hidden');
    });
    
    menuPanel.addEventListener('mouseleave', () => {
        menuTimeout = setTimeout(() => {
            menuPanel.classList.add('hidden');
        }, 200); 
    });
}
  </script>
</body>
</html>

