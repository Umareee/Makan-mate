<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Menu (Non-Customizable) — Makan Mate</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'makan-orange': '#FF5722',
            'makan-orange-hover': '#E64A19',
            'custom-topbar': '#474747',
            'custom-navbar': '#F9F9F7',
            'custom-logo-bg': '#F9F9F71F',
            'custom-text': '#2C2F24',
            'panel-blue': '#eef7fb',
            'panel-blue-border': '#e1eef4'
          },
          fontFamily: {
            'playfair': ['Playfair Display','serif'],
            'dm-sans': ['DM Sans','sans-serif']
          }
        }
      }
    }
  </script>

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=DM+Sans:wght@300;400;600&display=swap" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

  <style>
    body { font-family: "DM Sans", sans-serif; }
    .dotted-hr { border-bottom: 2px dotted #f4a18b; padding-bottom: 8px; display: inline-block; }
    .cat-topline { height: 6px; border-bottom: 1px solid #e1edf3; margin-top: 6px; }
  </style>
</head>
<body class="bg-white font-dm-sans text-custom-text">

  <!-- Header -->
  <header class="bg-gray-800 text-white">
    <div class="bg-custom-topbar py-2 px-2">
      <div class="container mx-auto px-2 sm:px-4 text-xs sm:text-sm">
        <!-- Mobile Layout -->
        <div class="flex sm:hidden justify-between items-start py-1">
          <div class="flex items-center space-x-1">
            <i class="fas fa-phone"></i>
            <span>62642233 Ext 10-18</span>
          </div>
          <div class="flex flex-col items-end space-y-1">
            <div class="flex items-center space-x-1">
              <i class="fas fa-envelope"></i>
              <span>order@makanmate.com</span>
            </div>
            <div class="flex space-x-2">
              <a href="#" class="w-6 h-6 bg-custom-logo-bg rounded-full flex items-center justify-center hover:text-makan-orange transition-colors">
                <i class="fab fa-twitter text-xs"></i>
              </a>
              <a href="#" class="w-6 h-6 bg-custom-logo-bg rounded-full flex items-center justify-center hover:text-makan-orange transition-colors">
                <i class="fab fa-facebook text-xs"></i>
              </a>
              <a href="#" class="w-6 h-6 bg-custom-logo-bg rounded-full flex items-center justify-center hover:text-makan-orange transition-colors">
                <i class="fab fa-instagram text-xs"></i>
              </a>
              <a href="#" class="w-6 h-6 bg-custom-logo-bg rounded-full flex items-center justify-center hover:text-makan-orange transition-colors">
                <i class="fab fa-github text-xs"></i>
              </a>
            </div>
          </div>
        </div>
        <!-- Desktop Layout -->
        <div class="hidden sm:flex justify-between items-center">
          <div class="flex items-center space-x-6">
            <div class="flex items-center space-x-2">
              <i class="fas fa-phone"></i>
              <span>62642233 Ext 10-18</span>
            </div>
            <div class="flex items-center space-x-2">
              <i class="fas fa-envelope"></i>
              <span>order@makanmate.com</span>
            </div>
          </div>
          <div class="flex space-x-3">
            <a href="#" class="w-8 h-8 bg-custom-logo-bg rounded-full flex items-center justify-center hover:text-makan-orange transition-colors">
              <i class="fab fa-twitter"></i>
            </a>
            <a href="#" class="w-8 h-8 bg-custom-logo-bg rounded-full flex items-center justify-center hover:text-makan-orange transition-colors">
              <i class="fab fa-facebook"></i>
            </a>
            <a href="#" class="w-8 h-8 bg-custom-logo-bg rounded-full flex items-center justify-center hover:text-makan-orange transition-colors">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="#" class="w-8 h-8 bg-custom-logo-bg rounded-full flex items-center justify-center hover:text-makan-orange transition-colors">
              <i class="fab fa-github"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main navigation -->
  <nav class="bg-custom-navbar text-custom-text py-4 px-2 shadow-md sticky top-0 z-50">
    <div class="container mx-auto px-2 sm:px-4 flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <div class="w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center cursor-pointer" onclick="window.location.href='index.html'">
          <img src="/images/mate-logo.png" alt="Makan Mate Logo" class="w-10 h-10 rounded-full">
        </div>
        <div>
          <h1 class="text-xl sm:text-2xl font-bold text-makan-orange font-playfair cursor-pointer" onclick="window.location.href='index.html'">Makan Mate</h1>
        </div>
      </div>
      <div class="hidden lg:flex items-center space-x-4 xl:space-x-8">
        <a href="index.html" class="text-custom-text hover:text-makan-orange transition-colors font-medium">Home</a>
        <a href="about.html" class="text-custom-text hover:text-makan-orange transition-colors font-medium">About</a>
        <a href="menu.html" class="text-custom-text hover:text-makan-orange transition-colors font-medium">Menu</a>
        <a href="#" class="text-custom-text hover:text-makan-orange transition-colors font-medium">Pages</a>
        <a href="contact.html" class=" text-custom-text hover:text-makan-orange transition-colors font-medium">Contact</a>
        <a href="order.html" class="bg-makan-orange border-2 border-makan-orange text-white px-6 py-2 rounded-full hover:bg-custom-navbar hover:text-black transition-colors font-medium">Order Now</a>
      </div>
      <div class="lg:hidden">
        <button class="text-custom-text hover:text-makan-orange">
          <i class="fas fa-bars text-xl"></i>
        </button>
      </div>
    </div>
  </nav>

  <!-- MAIN -->
  <main class="container mx-auto px-4 py-8 max-w-6xl">
    <h2 class="text-2xl font-playfair font-bold mb-6">Menu — Fixed Sets</h2>

    <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
      <!-- LEFT SIDEBAR -->
      <aside class="lg:col-span-3 lg:order-1 p-4 bg-gray-50 border border-gray-200 rounded-lg">
        <div class="text-xs text-makan-orange font-semibold mb-3">
          <span class="dotted-hr">ORDER DETAILS</span>
        </div>

        <!-- Delivery Date and Time -->
        <div class="mb-6">
          <h4 class="font-semibold text-custom-text mb-2">Delivery Date & Time</h4>
          <div class="space-y-2">
            <input type="date" id="delivery-date" class="w-full p-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-makan-orange">
            <input type="time" id="delivery-time" class="w-full p-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-makan-orange">
          </div>
        </div>

        <!-- Previous Selections -->
        <div class="mb-6">
          <h4 class="font-semibold text-custom-text mb-2">Previous Selections</h4>
          <div class="bg-white p-3 rounded border border-gray-200 space-y-3">
            <div class="flex items-center gap-3">
              <img src="/images/festive/imgi_6_Something Special.jpg" alt="OH KONICHIWA!" class="w-12 h-12 rounded object-cover">
              <div class="flex-1">
                <div class="text-sm font-semibold text-gray-800">OH KONICHIWA!</div>
                <div class="text-xs text-gray-500">Qty: 1 Set</div>
              </div>
              <div class="text-sm font-semibold">$99.00</div>
            </div>
          </div>
        </div>

        <!-- Number of Packs -->
        <div class="mb-6">
          <h4 class="font-semibold text-custom-text mb-2">Number of Packs</h4>
          <div class="flex gap-2 items-center">
            <button class="w-8 h-8 bg-makan-orange rounded text-white text-sm font-bold hover:bg-makan-orange-hover transition-colors" onclick="changePacks(-1)">▼</button>
            <input class="flex-1 text-center border border-gray-300 h-8 rounded text-sm focus:outline-none focus:ring-2 focus:ring-makan-orange" type="number" value="10" min="10" id="packs-input">
            <button class="w-8 h-8 bg-makan-orange rounded text-white text-sm font-bold hover:bg-makan-orange-hover transition-colors" onclick="changePacks(1)">▲</button>
          </div>
          <p class="text-xs text-gray-500 mt-1">Minimum: 10 packs</p>
        </div>

        <!-- Cart Summary -->
        <div class="border-t border-gray-300 pt-4">
          <h4 class="font-semibold text-custom-text mb-2">Your Selection</h4>
          <div id="cart-container">
            <div class="text-gray-500 text-sm text-center py-4">
              <i class="fas fa-shopping-cart text-xl mb-2"></i><br>
              No items selected yet.
            </div>
          </div>
          <div class="border-t border-gray-300 mt-4 pt-4" id="cart-total" style="display: none;">
            <div class="text-sm font-semibold">TOTAL: <span id="total-amount" class="text-lg">$0.00</span></div>
          </div>
        </div>
      </aside>

      <!-- RIGHT CONTENT -->
      <section class="lg:col-span-9 lg:order-2">
        <div id="cards-container" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div>
        <div class="mt-6">
          <button id="next-bottom" class="bg-makan-orange text-white px-6 py-3 rounded-lg font-bold hover:bg-makan-orange-hover transition-colors">NEXT »</button>
        </div>
      </section>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-12 mt-8">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
        <div class="mx-0 sm:mx-4">
          <h4 class="text-lg font-bold text-white mb-6">Company</h4>
          <ul class="space-y-3">
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">About Us</a></li>
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">Our Team</a></li>
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">Careers</a></li>
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">Contact</a></li>
          </ul>
        </div>
        <div class="mx-0 sm:mx-4">
          <h4 class="text-lg font-bold text-white mb-6">Services</h4>
          <ul class="space-y-3">
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">Catering</a></li>
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">Delivery</a></li>
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">Events</a></li>
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">Corporate</a></li>
          </ul>
        </div>
        <div class="mx-0 sm:mx-4">
          <h4 class="text-lg font-bold text-white mb-6">Quick Links</h4>
          <ul class="space-y-3">
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">Menu</a></li>
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">Order Now</a></li>
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">Locations</a></li>
            <li><a href="#" class="text-gray-300 hover:text-makan-orange transition-colors">FAQs</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-lg font-bold text-white mb-6">Follow Us On Instagram</h4>
          <div class="grid grid-cols-2 gap-3">
            <div class="aspect-square rounded-lg overflow-hidden">
              <img src="/images/pexels-steve-3789885 1.png" alt="Instagram Food Post" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300">
            </div>
            <div class="aspect-square rounded-lg overflow-hidden">
              <img src="/images/eiliv-aceron-d5PbKQJ0Lu8-unsplash 1.png" alt="Instagram Food Post" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300">
            </div>
            <div class="aspect-square rounded-lg overflow-hidden">
              <img src="/images/pexels-ella-olsson-1640772 1.png" alt="Instagram Food Post" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300">
            </div>
            <div class="aspect-square rounded-lg overflow-hidden">
              <img src="/images/pexels-ash-376464 1.png" alt="Instagram Food Post" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300">
            </div>
          </div>
        </div>
      </div>
      <div class="border-t border-gray-700 mt-12 pt-8 text-center">
        <p class="text-gray-400">Copyright © 2025 Makan Mate. All Rights Reserved</p>
      </div>
    </div>
  </footer>

  <!-- Mobile menu (hidden by default) -->
  <div class="lg:hidden fixed inset-0 bg-black bg-opacity-50 z-50 hidden" id="mobile-menu">
    <div class="bg-white w-64 h-full p-6">
      <div class="flex justify-between items-center mb-8">
        <h2 class="text-xl font-bold text-makan-orange">Menu</h2>
        <button class="text-gray-600" id="close-menu">
          <i class="fas fa-times text-xl"></i>
        </button>
      </div>
      <nav class="space-y-4">
        <a href="index.html" class="block text-custom-text hover:text-makan-orange transition-colors py-2 border-b">Home</a>
        <a href="about.html" class="block text-custom-text hover:text-makan-orange transition-colors py-2 border-b">About</a>
        <a href="menu.html" class="block text-custom-text hover:text-makan-orange transition-colors py-2 border-b">Menu</a>
        <a href="#" class="block text-custom-text hover:text-makan-orange transition-colors py-2 border-b">Pages</a>
        <a href="contact.html" class="block text-custom-text hover:text-makan-orange transition-colors py-2 border-b">Contact</a>
        <a href="order.html" class="block bg-makan-orange text-white px-4 py-2 rounded-full text-center mt-6">Order Now</a>
      </nav>
    </div>
  </div>

  <!-- JS -->
  <script>
    // Menu data (reuse from customizable page)
    const menuData = {
      'main-course': {
        'rice-mushroom': { name: 'Rice w Mushroom', image: '/images/festive/imgi_5_Local Favourites.jpg', price: 12.99 },
        'fried-hongkong-mee': { name: 'Fried Hong Kong Mee', image: '/images/festive/imgi_6_Something Special.jpg', price: 14.99 }
      },
      'chicken': {
        'teriyaki-chicken': { name: 'Teriyaki Grilled Chicken', image: '/images/festive/imgi_7_Hot And Spicy.jpg', price: 18.99 },
        'kung-pao-chicken': { name: 'Kung Pao Chicken', image: '/images/festive/imgi_8_All Day Breakfast.jpg', price: 16.99 }
      },
      'vegetable': {
        'assorted-vegetable': { name: 'Teppanyaki Assorted Vegetable', image: '/images/festive/imgi_5_Local Favourites.jpg', price: 9.99 },
        'stir-fry-vegetable': { name: 'Stir Fry Mixed Vegetables', image: '/images/festive/imgi_6_Something Special.jpg', price: 8.99 }
      },
      'dessert': {
        'jelly-cocktail': { name: 'Jelly w Cocktail', image: '/images/festive/imgi_8_All Day Breakfast.jpg', price: 5.99 },
        'jelly-longan': { name: 'Jelly w Longan', image: '/images/festive/imgi_9_Around The World.jpg', price: 6.99 }
      },
      'drinks': {
        'iced-lemon-tea': { name: 'Iced Lemon Tea', image: '/images/festive/imgi_6_Something Special.jpg', price: 3.99 },
        'fresh-orange-juice': { name: 'Fresh Orange Juice', image: '/images/festive/imgi_7_Hot And Spicy.jpg', price: 4.99 }
      }
    };

    let cart = [];
    let packs = 10;

    document.addEventListener('DOMContentLoaded', () => {
      // Date/time defaults
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('delivery-date').min = today;
      const now = new Date();
      now.setHours(now.getHours() + 1);
      document.getElementById('delivery-time').value = now.toTimeString().slice(0,5);

      renderCards();
      updateCartDisplay();
    });

    function renderCards() {
      const container = document.getElementById('cards-container');
      container.innerHTML = '';
      Object.keys(menuData).forEach(category => {
        const items = menuData[category];
        const heroImage = getCategoryHeroImage(category);
        const card = document.createElement('div');
        card.className = 'bg-panel-blue border border-panel-blue-border rounded-lg p-4';
        card.innerHTML = `
          <div class="font-semibold text-custom-text uppercase text-base mb-1">${toTitle(category)}</div>
          <div class="cat-topline mb-3"></div>
          <div class="w-full h-36 rounded overflow-hidden mb-3">
            <img src="${heroImage}" alt="${toTitle(category)}" class="w-full h-full object-cover">
          </div>
          <ul class="list-disc list-inside space-y-1 text-sm text-gray-700 mb-3">
            ${Object.keys(items).map(key => `<li>${items[key].name}</li>`).join('')}
          </ul>
          <div class="flex items-center gap-2">
            <button class="w-8 h-8 bg-makan-orange rounded text-white text-sm font-bold hover:bg-makan-orange-hover transition-colors" onclick="changeCardQuantity('${category}', -1)">▼</button>
            <input id="${category}-card-qty" class="card-qty-input w-28 text-center border border-gray-300 h-8 rounded text-sm focus:outline-none focus:ring-2 focus:ring-makan-orange" type="number" value="${packs}" min="${packs}" oninput="onCardQtyInput('${category}')">
            <button class="w-8 h-8 bg-makan-orange rounded text-white text-sm font-bold hover:bg-makan-orange-hover transition-colors" onclick="changeCardQuantity('${category}', 1)">▲</button>
            <button id="${category}-add-btn" class="ml-auto bg-makan-orange text-white px-3 py-2 rounded text-sm font-bold hover:bg-makan-orange-hover transition-colors" onclick="addCardToCart('${category}')">Add</button>
          </div>
        `;
        container.appendChild(card);
      });
    }

    function toTitle(slug) { return slug.replace(/-/g,' ').replace(/\b\w/g, c => c.toUpperCase()); }

    function changeCardQuantity(category, delta) {
      const input = document.getElementById(`${category}-card-qty`);
      const newVal = Math.max(packs, Number(input.value) + delta);
      input.value = newVal;
      // Since quantity changed, require user to confirm by pressing Add again
      markAdd(category);
    }

    function onCardQtyInput(category) {
      const input = document.getElementById(`${category}-card-qty`);
      let val = Number(input.value);
      if (Number.isNaN(val) || val < packs) val = packs;
      input.value = val;
      // Since quantity changed, require user to confirm by pressing Add again
      markAdd(category);
    }

    function addCardToCart(category) {
      const input = document.getElementById(`${category}-card-qty`);
      const qty = Math.max(packs, Number(input.value) || packs);
      upsertCard(category, qty);
      // Reflect added state on the button
      markAdded(category);
    }

    function getAddBtn(category) {
      return document.getElementById(`${category}-add-btn`);
    }

    function markAdded(category) {
      const btn = getAddBtn(category);
      if (!btn) return;
      btn.textContent = 'Added';
      btn.classList.remove('bg-makan-orange', 'hover:bg-makan-orange-hover');
      btn.classList.add('bg-green-600', 'hover:bg-green-700');
    }

    function markAdd(category) {
      const btn = getAddBtn(category);
      if (!btn) return;
      btn.textContent = 'Add';
      btn.classList.remove('bg-green-600', 'hover:bg-green-700');
      btn.classList.add('bg-makan-orange', 'hover:bg-makan-orange-hover');
    }

    function upsertCard(category, quantity) {
      const id = `card:${category}`;
      const priceEach = computeCategoryPrice(category);
      const name = toTitle(category);
      const image = getCategoryHeroImage(category);
      const existingIndex = cart.findIndex(ci => ci.id === id);
      const cartItem = { id, category, name, image, price: priceEach, quantity };
      if (existingIndex > -1) cart[existingIndex] = cartItem; else cart.push(cartItem);
      updateCartDisplay();
    }

    function computeCategoryPrice(category) {
      const items = menuData[category] || {};
      return Object.keys(items).reduce((sum, key) => sum + Number(items[key].price || 0), 0);
    }

    function getCategoryHeroImage(category) {
      const items = menuData[category] || {};
      const firstKey = Object.keys(items)[0];
      return firstKey ? items[firstKey].image : '/images/festive/imgi_6_Something Special.jpg';
    }

    function changePacks(change) {
      const packsInput = document.getElementById('packs-input');
      const newPacks = Math.max(10, Number(packsInput.value) + change);
      packs = newPacks;
      packsInput.value = packs;
      // Update all qty inputs
      document.querySelectorAll('.card-qty-input').forEach(ip => {
        ip.min = packs;
        if (Number(ip.value) < packs) ip.value = packs;
      });
      // Bump cart items
      cart = cart.map(ci => ({ ...ci, quantity: Math.max(ci.quantity, packs) }));
      updateCartDisplay();
    }

    function updateCartDisplay() {
      const cartContainer = document.getElementById('cart-container');
      const cartTotal = document.getElementById('cart-total');
      const totalAmount = document.getElementById('total-amount');
      if (cart.length === 0) {
        cartContainer.innerHTML = `
          <div class="text-gray-500 text-sm text-center py-4">
            <i class="fas fa-shopping-cart text-xl mb-2"></i><br>
            No items selected yet.
          </div>`;
        cartTotal.style.display = 'none';
        return;
      }
      cartTotal.style.display = 'block';
      let total = 0;
      cartContainer.innerHTML = '';
      cart.forEach((item, index) => {
        const subtotal = item.price * item.quantity;
        total += subtotal;
        const row = document.createElement('div');
        row.className = 'bg-white p-3 rounded border border-gray-200 mb-2';
        row.innerHTML = `
          <div class="flex items-center space-x-2">
            <img src="${item.image}" alt="${item.name}" class="w-12 h-12 object-cover rounded">
            <div class="flex-1">
              <div class="text-sm font-semibold text-gray-800">${item.name}</div>
              <div class="text-xs text-gray-500">Qty: ${item.quantity}</div>
              <div class="text-xs text-gray-600">$${item.price.toFixed(2)} each</div>
            </div>
            <div class="text-right">
              <div class="text-sm font-bold text-gray-900">$${subtotal.toFixed(2)}</div>
              <button class="text-red-500 text-xs hover:text-red-700" onclick="removeFromCart(${index})">Remove</button>
            </div>
          </div>`;
        cartContainer.appendChild(row);
      });
      totalAmount.textContent = `$${total.toFixed(2)}`;
    }

    function removeFromCart(index) {
      const removed = cart.splice(index, 1)[0];
      updateCartDisplay();
      if (removed && removed.category) {
        // If an item is removed from cart, revert its button to Add
        markAdd(removed.category);
      }
    }

    document.getElementById('next-bottom').addEventListener('click', () => {
      if (cart.length === 0) { alert('Please add at least one item.'); return; }
      const deliveryDate = document.getElementById('delivery-date').value;
      const deliveryTime = document.getElementById('delivery-time').value;
      if (!deliveryDate || !deliveryTime) { alert('Please select delivery date and time.'); return; }
      localStorage.setItem('nonCustomizableCart', JSON.stringify(cart));
      localStorage.setItem('deliveryInfo', JSON.stringify({ date: deliveryDate, time: deliveryTime, packs }));
      alert('Selections saved.');
    });

    // Mobile menu toggle
    const mobileMenuBtn = document.querySelector('#open-mobile');
    const mobileMenu = document.getElementById('mobile-menu');
    const closeMenuBtn = document.getElementById('close-menu');
    if (mobileMenuBtn && mobileMenu) {
      mobileMenuBtn.addEventListener('click', () => { mobileMenu.classList.remove('hidden'); });
    }
    if (closeMenuBtn && mobileMenu) {
      closeMenuBtn.addEventListener('click', () => { mobileMenu.classList.add('hidden'); });
    }
    if (mobileMenu) {
      mobileMenu.addEventListener('click', (e) => { if (e.target === mobileMenu) mobileMenu.classList.add('hidden'); });
    }
  </script>

</body>
</html>
